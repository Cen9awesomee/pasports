{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport ApexChart from 'vue-apexcharts';\nexport default {\n  name: 'ValChart',\n  components: {\n    ApexChart\n  },\n  props: {\n    height: {\n      type: [Number, String],\n      default: 250\n    },\n    width: {\n      type: [Number, String],\n      default: '100%'\n    },\n    dataSource: {\n      type: Object,\n      required: true,\n      default: () => ({\n        series: [],\n        categories: [],\n        colors: [],\n        percentChanges: []\n      })\n    }\n  },\n  computed: {\n    chartOptions() {\n      return {\n        chart: {\n          type: 'bar',\n          stacked: true,\n          height: this.height,\n          animations: {\n            enabled: true,\n            speed: 800,\n            animateGradually: {\n              enabled: true,\n              delay: 150\n            },\n            dynamicAnimation: {\n              enabled: true,\n              speed: 350\n            }\n          },\n          toolbar: {\n            show: false\n          }\n        },\n        plotOptions: {\n          bar: {\n            horizontal: true,\n            dataLabels: {\n              position: 'center'\n            }\n          }\n        },\n        dataLabels: {\n          enabled: true,\n          offsetX: -6,\n          formatter: function (val, context) {\n            const dataPointIndex = context.dataPointIndex;\n            let total = 0;\n            if (this.dataSource && this.dataSource.series) {\n              this.dataSource.series.forEach(serie => {\n                if (serie.data && typeof serie.data[dataPointIndex] === 'number') {\n                  total += serie.data[dataPointIndex];\n                }\n              });\n            }\n            const category = this.dataSource.categories[dataPointIndex];\n            const percentChange = this.dataSource.percentChanges.find(item => item.year === category);\n            const change = percentChange ? percentChange.change : '0%';\n            const isNegative = change.startsWith('-');\n            const color = isNegative ? '#FF4D4F' : '#52C41A';\n            context.w.config.dataLabels.style.colors = [color];\n            return `${change}\\n${total.toFixed(2)}`;\n          }.bind(this),\n          style: {\n            fontSize: '12px',\n            fontWeight: 400,\n            fontFamily: 'Montserrat, sans-serif'\n          }\n        },\n        grid: {\n          show: false\n        },\n        stroke: {\n          show: false\n        },\n        tooltip: {\n          shared: false,\n          intersect: true,\n          style: {\n            fontFamily: 'Montserrat-Regular, sans-serif',\n            fontSize: '10px'\n          },\n          custom: ({\n            series,\n            seriesIndex,\n            dataPointIndex,\n            w\n          }) => {\n            const category = w.config.xaxis.categories[dataPointIndex];\n            const value = series[seriesIndex][dataPointIndex];\n            const color = w.globals.colors[seriesIndex];\n            return `\n              <div style=\"padding: 5px; background: ${color}; color: #fff; border-radius: 0; font-size: 10px; border: none;\">\n                <strong>${category}:</strong> ${value}\n              </div>\n            `;\n          }\n        },\n        xaxis: {\n          categories: this.dataSource.categories,\n          axisBorder: {\n            show: true,\n            color: '#4b3f3f'\n          },\n          axisTicks: {\n            show: true,\n            color: '#4b3f3f'\n          },\n          labels: {\n            style: {\n              colors: '#ffffff',\n              fontSize: '11px'\n            }\n          }\n        },\n        yaxis: {\n          axisBorder: {\n            show: true,\n            color: '#4b3f3f'\n          },\n          axisTicks: {\n            show: true,\n            color: '#4b3f3f'\n          },\n          labels: {\n            show: true,\n            offsetX: 5,\n            formatter: val => val,\n            style: {\n              colors: '#ffffff'\n            }\n          }\n        },\n        legend: {\n          position: 'bottom',\n          offsetY: -10,\n          offsetX: 15,\n          fontSize: '9px',\n          fontFamily: 'Montserrat-Regular, sans-serif',\n          markers: {\n            width: 10,\n            height: 10,\n            borderRadius: 10,\n            strokeWidth: 0\n          },\n          itemMargin: {\n            horizontal: 5,\n            vertical: 15\n          },\n          formatter: (seriesName, opts) => {\n            return `<span style=\"color: ${opts.w.globals.colors[opts.seriesIndex]}\">${seriesName}</span>`;\n          }\n        },\n        colors: this.dataSource.colors,\n        responsive: [{\n          breakpoint: 1000,\n          options: {\n            plotOptions: {\n              bar: {\n                horizontal: true\n              }\n            }\n          }\n        }]\n      };\n    }\n  }\n};","map":{"version":3,"names":["ApexChart","name","components","props","height","type","Number","String","default","width","dataSource","Object","required","series","categories","colors","percentChanges","computed","chartOptions","chart","stacked","animations","enabled","speed","animateGradually","delay","dynamicAnimation","toolbar","show","plotOptions","bar","horizontal","dataLabels","position","offsetX","formatter","val","context","dataPointIndex","total","forEach","serie","data","category","percentChange","find","item","year","change","isNegative","startsWith","color","w","config","style","toFixed","bind","fontSize","fontWeight","fontFamily","grid","stroke","tooltip","shared","intersect","custom","seriesIndex","xaxis","value","globals","axisBorder","axisTicks","labels","yaxis","legend","offsetY","markers","borderRadius","strokeWidth","itemMargin","vertical","seriesName","opts","responsive","breakpoint","options"],"sources":["src/components/ValChart.vue"],"sourcesContent":["<template>\r\n    <ApexChart\r\n      type=\"bar\"\r\n      :height=\"height\"\r\n      :width=\"width\"\r\n      :options=\"chartOptions\"\r\n      :series=\"dataSource.series\"\r\n    ></ApexChart>\r\n  </template>\r\n  \r\n  <script>\r\n  import ApexChart from 'vue-apexcharts';\r\n  \r\n  export default {\r\n    name: 'ValChart',\r\n    components: {\r\n      ApexChart,\r\n    },\r\n    props: {\r\n    height: {\r\n      type: [Number, String],\r\n      default: 250,\r\n    },\r\n    width: {\r\n      type: [Number, String],\r\n      default: '100%',\r\n    },\r\n    dataSource: {\r\n      type: Object,\r\n      required: true,\r\n      default: () => ({\r\n        series: [],\r\n        categories: [],\r\n        colors: [],\r\n        percentChanges: [],\r\n      }),\r\n    },\r\n  },\r\n  computed: {\r\n    chartOptions() {\r\n      return {\r\n        chart: {\r\n          type: 'bar',\r\n          stacked: true,\r\n          height: this.height,\r\n          animations: {\r\n            enabled: true,\r\n            speed: 800,\r\n            animateGradually: {\r\n              enabled: true,\r\n              delay: 150,\r\n            },\r\n            dynamicAnimation: {\r\n              enabled: true,\r\n              speed: 350,\r\n            },\r\n          },\r\n          toolbar: {\r\n            show: false,\r\n          },\r\n          \r\n        },\r\n        plotOptions: {\r\n          bar: {\r\n            horizontal: true,\r\n            dataLabels: {\r\n              position: 'center',\r\n            },\r\n          },\r\n        },\r\n        dataLabels: {\r\n  enabled: true,\r\n  offsetX: -6,\r\n  formatter: function (val, context) {\r\n  const dataPointIndex = context.dataPointIndex;\r\n\r\n  let total = 0;\r\n  if (this.dataSource && this.dataSource.series) {\r\n    this.dataSource.series.forEach((serie) => {\r\n      if (serie.data && typeof serie.data[dataPointIndex] === 'number') {\r\n        total += serie.data[dataPointIndex];\r\n      }\r\n    });\r\n  }\r\n\r\n  const category = this.dataSource.categories[dataPointIndex];\r\n  const percentChange = this.dataSource.percentChanges.find(\r\n    (item) => item.year === category\r\n  );\r\n  const change = percentChange ? percentChange.change : '0%';\r\n  const isNegative = change.startsWith('-');\r\n  const color = isNegative ? '#FF4D4F' : '#52C41A';\r\n\r\n  context.w.config.dataLabels.style.colors = [color];\r\n\r\n  \r\n  return `${change}\\n${total.toFixed(2)}`;\r\n}.bind(this),\r\n\r\n\r\n  style: {\r\n    fontSize: '12px',\r\n    fontWeight: 400,\r\n    fontFamily: 'Montserrat, sans-serif',\r\n  },\r\n},\r\n\r\n        grid: {\r\n          show: false,\r\n        },\r\n        stroke: {\r\n          show: false,\r\n        },\r\n        tooltip: {\r\n          shared: false,\r\n          intersect: true,\r\n          style: {\r\n            fontFamily: 'Montserrat-Regular, sans-serif',\r\n            fontSize: '10px',\r\n          },\r\n          custom: ({ series, seriesIndex, dataPointIndex, w }) => {\r\n            const category = w.config.xaxis.categories[dataPointIndex];\r\n            const value = series[seriesIndex][dataPointIndex];\r\n            const color = w.globals.colors[seriesIndex];\r\n            return `\r\n              <div style=\"padding: 5px; background: ${color}; color: #fff; border-radius: 0; font-size: 10px; border: none;\">\r\n                <strong>${category}:</strong> ${value}\r\n              </div>\r\n            `;\r\n          },\r\n        },\r\n        xaxis: {\r\n          categories: this.dataSource.categories,\r\n          axisBorder: {\r\n            show: true,\r\n            color: '#4b3f3f',\r\n          },\r\n          axisTicks: {\r\n            show: true,\r\n            color: '#4b3f3f',\r\n          },\r\n          labels: {\r\n            style: {\r\n              colors: '#ffffff',\r\n              fontSize: '11px',\r\n            },\r\n          },\r\n        },\r\n        yaxis: {\r\n          axisBorder: {\r\n            show: true,\r\n            color: '#4b3f3f',\r\n          },\r\n          axisTicks: {\r\n            show: true,\r\n            color: '#4b3f3f',\r\n          },\r\n          labels: {\r\n            show: true,\r\n            offsetX: 5,\r\n            formatter: (val) => val,\r\n            style: {\r\n              colors: '#ffffff',\r\n            },\r\n          },\r\n        },\r\n        legend: {\r\n          position: 'bottom',\r\n          offsetY: -10,\r\n          offsetX: 15,\r\n          fontSize: '9px',\r\n          fontFamily: 'Montserrat-Regular, sans-serif',\r\n          markers: {\r\n            width: 10,\r\n            height: 10,\r\n            borderRadius: 10,\r\n            strokeWidth: 0,\r\n          },\r\n          itemMargin: {\r\n            horizontal: 5,\r\n            vertical: 15,\r\n          },\r\n          formatter: (seriesName, opts) => {\r\n            return `<span style=\"color: ${opts.w.globals.colors[opts.seriesIndex]}\">${seriesName}</span>`;\r\n          },\r\n        },\r\n        colors: this.dataSource.colors,\r\n        responsive: [\r\n          {\r\n            breakpoint: 1000,\r\n            options: {\r\n              plotOptions: {\r\n                bar: {\r\n                  horizontal: true,\r\n                },\r\n              },\r\n            },\r\n          },\r\n        ],\r\n      };\r\n    },\r\n  },\r\n};\r\n  </script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}